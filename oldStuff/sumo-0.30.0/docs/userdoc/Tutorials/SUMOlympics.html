<!DOCTYPE html>

<html lang="en">
<head>
  <title>Tutorials/SUMOlympics - SUMO - Simulation of Urban Mobility</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="../sumo.css">
  <link rel="license" href=
  "http://creativecommons.org/licenses/by-sa/3.0/">
</head>

<body id="bmission">
  <div id="container">
    <div id="logo" style="text-align:left">
      <img src="../logo.png" width="128" height="128"
      alt="SUMO-Simulation of Urban Mobility" style=
      "float:left; margin-left:10px; margin-right:20px;">
      <div id="logo_text1">SUMO</div>
      <div id="logo_text2">Simulation of Urban MObility</div>
    </div>

    <div id="subsMenu">
      <ul>
        <li class="sub"><a href=
        "http://sumo.dlr.de/">Home</a></li>

        <li class="sub"><a href="../Downloads.html">Download</a></li>

        <li class="sub"><a href="../index.html">Documentation</a></li>

        <li class="sub"><a href=
        "http://sumo.dlr.de/wiki/">Wiki</a></li>

        <li class="sub"><a href=
        "http://sumo.dlr.de/trac/">Trac</a></li>

        <li class="sub"><a href=
        "http://sumo.dlr.de/blog/">Blog</a></li>

        <li class="sub"><a href="../Contact.html">Contact</a></li>

        <li class="sub"><a href=
        "http://sourceforge.net/projects/sumo/">SF-Project</a></li>
      </ul>
    </div>

    <div id="nav">
      <div id="step1">
        <h3>User</h3>
        <ul>
        <!-- nav begins --> <li>Introduction</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Sumo_at_a_Glance.html">The traffic simulation SUMO</a></li>
</ul></li>
  <li>Basic Usage</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Basics/Notation.html">Notation in this Documentation</a></li>
  <li><a href="../Basics/Basic_Computer_Skills.html">Needed, basic Computer Skills</a></li>
  <li><a href="../Installing.html">Installing SUMO</a></li>
  <li><a href="../Basics/Using_the_Command_Line_Applications.html">Using SUMO Command Line Applications</a></li>
  <li><a href="../Tutorials.html">Tutorials</a></li>
  <li><a href="../XMLValidation.html">Validating application inputs</a></li>
</ul></li>
  <li>Network Building</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Networks/SUMO_Road_Networks.html">SUMO Road Networks</a></li>
  <li><a href="../Networks/Abstract_Network_Generation.html">Abstract networks generation</a></li>
  <li><a href="../NETCONVERT.html">NETCONVERT</a></li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../Networks/Building_Networks_from_own_XML-descriptions.html">Defining own networks using XML</a></li>
   <li><a href="../Networks/Import.html">Importing non-SUMO networks</a></li>
<li style="list-style: none; display: inline"><ul>
    <li><a href="../Networks/Import/OpenStreetMap.html">from OpenStreetMap</a></li>
<li style="list-style: none; display: inline"><ul>
     <li><a href="../Networks/Import/OpenStreetMap.html#3-click_scenario_generation">3-Click Scenario Generator</a></li>
</ul></li>
    <li><a href="../Networks/Import/VISUM.html">from VISUM</a></li>
    <li><a href="../Networks/Import/Vissim.html">from Vissim</a></li>
    <li><a href="../Networks/Import/OpenDRIVE.html">from OpenDRIVE</a></li>
    <li><a href="../Networks/Import/MATsim.html">from MATsim</a></li>
    <li><a href="../Networks/Import/ArcView.html">from ArcView (shapefiles)</a></li>
    <li><a href="../Networks/Import/DlrNavteq.html">from DlrNavTeq</a></li>
    <li><a href="../Networks/Import/RoboCup.html">from Robocup Simulation League</a></li>
</ul></li>
   <li><a href="../Networks/Import/SUMO_Road_Networks.html">Importing SUMO networks</a></li>
   <li><a href="../Simulation/Motorways.html#Building_a_network_for_motorway_simulation">Building networks for motorway simulation</a></li>
   <li><a href="../Simulation/Pedestrians.html#Building_a_network_for_pedestrian_simulation">Building networks for pedestrian simulation</a></li>
   <li><a href="../Networks/Further_Options.html">Further NETCONVERT options</a></li>
   <li><a href="../Networks/Further_Outputs.html">Additional output</a></li>
</ul></li>
  <li><a href="../NETEDIT.html">Creating and modifying networks with NETEDIT</a></li>
  <li><a href="../Networks/Elevation.html">Including elevation data</a></li>
</ul></li>
  <li>Demand Modelling</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Demand/Introduction_to_demand_modelling_in_SUMO.html">Introduction to SUMO Demand Modelling</a></li>
  <li><a href="../Definition_of_Vehicles,_Vehicle_Types,_and_Routes.html">Definition of Vehicles, Vehicle Types, and Routes</a></li>
  <li><a href="../Simulation/Public_Transport.html">Simulation of public transport</a></li>
  <li><a href="../Specification/Persons.html">Simulation of individual persons and trip chains</a></li>
  <li><a href="../Specification/Logistics.html">Simulation of logistics</a></li>
  <li><a href="../Demand/Shortest_or_Optimal_Path_Routing.html">Shortest or Optimal Path Routing</a></li>
  <li><a href="../IntermodalRouting.html">Intermodal Routing</a></li>
  <li><a href="../Demand/Automatic_Routing_.html">Routing in the Simulation</a></li>
  <li><a href="../Demand/Dynamic_User_Assignment.html">Computing Dynamic User Assignment</a></li>
  <li><a href="../Tools/Misc.html#createVehTypeDistributions.py">Generate a vehicle type distribution to model the fleet</a></li>
</ul></li>
  <li>Data sources for demand generation</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Demand/Importing_O/D_Matrices.html">Importing O/D Matrices</a></li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../Demand/Further_Ways_to_import_VISUM_Demand_Definitions.html">Other VISUM Demand Importers</a></li>
   <li><a href="../Demand/Further_Ways_to_import_Vissim_Demand_Definitions.html">Other Vissim Demand Importers</a></li>
</ul></li>
  <li><a href="../Demand/Routes_from_Observation_Points.html">Routes from Observation Points</a></li>
  <li><a href="../Demand/Routing_by_Turn_Probabilities.html">Routing by Turn Probabilities</a></li>
  <li><a href="../Demand/Activity-based_Demand_Generation.html">Activity-based Demand Generation</a></li>
  <li><a href="../Tools/Trip.html#randomTrips.py">Random Trips</a></li>
</ul></li>
  <li>Simulation</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/Basic_Definition.html">Basic Definition</a></li>
  <li><a href="../Simulation/Output.html">Simulation output</a></li>
  <li><a href="../TraCI.html">TraCI (On-line Interaction)</a></li>
  <li><a href="../Simulation/SaveAndLoad.html">Saving and Loading Simulation State</a></li>
</ul></li>
  <li> Traffic Management and Other Structures </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/Traffic_Lights.html">Traffic Lights</a></li>
  <li><a href="../Simulation/Public_Transport.html">Public Transport</a></li>
  <li><a href="../Simulation/Variable_Speed_Signs.html">Variable Speed Signs</a></li>
  <li><a href="../Simulation/Rerouter.html">Rerouter / Alternative Route Signage</a></li>
  <li><a href="../Simulation/Vaporizer.html">Vaporizer</a></li>
  <li><a href="../Simulation/Calibrator.html">Dynamic calibration of flow and speed</a></li>
  <li><a href="../Simulation/ParkingArea.html">Parking areas</a></li>
</ul></li>
  <li> Traffic Modes </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/Pedestrians.html">Pedestrian simulation</a></li>
  <li><a href="../Simulation/Bicycles.html">Bicycle simulation</a></li>
  <li><a href="../Simulation/Railways.html">Railway simulation</a></li>
  <li><a href="../Simulation/Waterways.html">Waterway simulation</a></li>
</ul></li>
  <li> Additional Features </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Models/Emissions.html">Emissions</a></li>
  <li><a href="../Models/Electric.html">Electric Vehicles</a></li>
  <li><a href="../Specification/Logistics.html">Logistics</a></li>
  <li><a href="../Simulation/GenericParameters.html">Generic Parameters</a></li>
  <li><a href="../Simulation/Shapes.html">Shapes Visualisation</a></li>
  <li><a href="../Simulation/Bluetooth.html">Wireless Device Detection</a></li>
  <li><a href="../Simulation/Emergency.html">Emergency Vehicles</a></li>
</ul></li>
  <li> Model details </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/VehicleSpeed.html">Vehicle speed</a></li>
  <li><a href="../Simulation/VehicleInsertion.html">Vehicle insertion</a></li>
  <li><a href="../Simulation/VehiclePermissions.html">Vehicle permissions (access restrictions)</a></li>
  <li><a href="../Simulation/Intersections.html">Intersection dynamics</a></li>
  <li><a href="../Simulation/Randomness.html">Randomness</a></li>
  <li><a href="../Simulation/Routing.html">Routing and Re-routing</a></li>
  <li><a href="../Simulation/SublaneModel.html">Sublane Model</a></li>
  <li><a href="../Simulation/OppositeDirectionDriving.html">Opposite Direction Driving</a></li>
  <li><a href="../Simulation/Safety.html">Safety</a></li>
  <li><a href="../Simulation/Meso.html">Mesoscopic model</a></li>
</ul></li>
  <li> Common Problems </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/Why_Vehicles_are_teleporting.html">Why Vehicles are teleporting</a></li>
  <li><a href="../FAQ.html#The_simulation_has_lots_of_jams.2Fdeadlocks._What_can_I_do.3F">Unexpected jamming</a></li>
  <li><a href="../FAQ.html#Why_do_the_vehicles_perform_unexpected_lane-changing_maneuvers.3F">Unexpected lane-changing maneuvers?</a></li>
  <li><a href="../FAQ.html#How_do_I_get_high_flows.2Fvehicle_densities.3F">How to get high flows?</a></li>
</ul></li>
  <li><a href="../Tools/Main.html">Additional Tools</a></li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Tools/Import/OSM.html#osmWebWizard.py">osmWebWizard</a></li>
  <li><a href="../TraCI/Interfacing_TraCI_from_Python.html">TraCI/Interfacing_TraCI_from_Python</a></li>
  <li><a href="../Tools/Sumolib.html">Reading SUMO networks and outputs with Python (sumolib)</a></li>
  <li><a href="../Tools/Xml.html">Tools for converting SUMO outputs to CSV/Spreadsheet</a></li>
  <li><a href="../Tools/TraceExporter.html">Exporting mobility Traces (traceExporter)</a></li>
  <li><a href="../Tools/Net.html#netdiff.py">Determining the differences between two networks</a></li>
  <li><a href="../Tools/Visualization.html">Tools/Visualization</a></li>
  <li><a href="../Tools/Main.html">Tool index</a></li>
</ul></li>
  <li>Theory</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Theory/Traffic_Simulations.html">Traffic simulations in general</a></li>
</ul></li>
  <li>Application Manuals</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../SUMO.html">SUMO</a></li>
  <li><a href="../SUMO-GUI.html">SUMO-GUI</a></li>
  <li><a href="../NETCONVERT.html">NETCONVERT</a></li>
  <li><a href="../NETEDIT.html">NETEDIT</a></li>
  <li><a href="../NETGENERATE.html">NETGENERATE</a></li>
  <li><a href="../OD2TRIPS.html">OD2TRIPS</a></li>
  <li><a href="../DUAROUTER.html">DUAROUTER</a></li>
  <li><a href="../JTRROUTER.html">JTRROUTER</a></li>
  <li><a href="../DFROUTER.html">DFROUTER</a></li>
  <li><a href="../MAROUTER.html">MAROUTER</a></li>
  <li><a href="../POLYCONVERT.html">POLYCONVERT</a></li>
  <li><a href="../ACTIVITYGEN.html">ACTIVITYGEN</a></li>
  <li><a href="../Tools/Emissions.html">EMISSIONSMAP</a></li>
  <li><a href="../Tools/Emissions.html">EMISSIONSDRIVINGCYCLE</a></li>
</ul></li>
  <li>Appendices</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../ChangeLog.html">ChangeLog</a></li>
  <li><a href="../Other/Glossary.html">Glossary</a></li>
  <li><a href="../FAQ.html">FAQ</a></li>
  <li><a href="../Tools/Main.html">Additional Tools</a></li>
  <li><a href="../Other/File_Extensions.html">Known File Extensions</a></li>
</ul></li>
<!-- nav ends -->
        </ul>
      </div>

      <div id="step2">
        <h3>Further Resources</h3>

        <ul>
          <li><a href="../Data/Networks.html">Example
          Networks</a></li>

          <li><a href="../Data/Scenarios.html">Example
          Scenarios</a></li>

          <li><a href="../Data/Traffic_Data.html">Traffic
          Data</a></li>
        </ul>
      </div>

      <div id="step3">
        <h3>Developer</h3>

        <ul>
          <li><a href="../Developer/Main.html">Developer Docs</a></li>

          <li><a href="http://sumo.dlr.de/daily/">Daily Tests
          Status</a></li>

          <li><a href="../../doxygen/">Doxygen Documentation</a></li>

          <li>Python Modules Documentation</li>

          <li style="list-style: none; display: inline">
            <ul>
              <li><a href="../../pydoc/traci.html">traci</a></li>

              <li><a href="../../pydoc/sumolib.html">sumolib</a></li>
            </ul>
          </li>

          <li>Java Modules Documentation</li>

          <li style="list-style: none; display: inline">
            <ul>
              <li><a href="../../javadoc/traci4j/">TraCI4J</a></li>

              <li><a href="../../javadoc/traas/">TraaS</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>

    <div id="content">
      <a id="top"></a>

						<div class="mw-indicators">
</div>
			<h1 id="firstHeading" class="firstHeading" lang="en">Tutorials/SUMOlympics</h1>
						<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">generated on 2017-05-02 00:27:06.897482 from <a href="http://sumo.dlr.de/wiki/Tutorials/SUMOlympics">the wiki page for Tutorials/SUMOlympics</a> for SUMO 0.30.0</div>
								<div id="contentSub"></div>
												
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>This tutorial sets up a competition (a collective 100 meter sprint) for different traffic modes. You will learn how to create special lanes and (very simple) traffic lights in netedit, use different vehicle classes to define vehicle types and you will create flows for the different types. All files can also be found in the <i><b>&lt;SUMO_HOME&gt;</b></i>/docs/tutorial/sumolympics directory.
</p>
<div style="background: #ffffdd; padding: .5em; border: 1px dashed #ffcc44; margin-right:10px; margin-left:10px;"><b>Note:</b><br /> The files will be included in the SUMO 0.29 release.</div>
<p>This tutorial is a reconstruction of a <a rel="nofollow" class="external text" href="https://www.youtube.com/watch?v=IpaNLxrtHOs%7C">VISSIM Scenario devised by the PTV Group</a>.
</p><p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Building_the_Net"><span class="tocnumber">1</span> <span class="toctext">Building the Net</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Defining_Competing_Vehicle_Types"><span class="tocnumber">2</span> <span class="toctext">Defining Competing Vehicle Types</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Defining_a_Start_Signal_.28Traffic_Light.29_and_Pedestrians"><span class="tocnumber">3</span> <span class="toctext">Defining a Start Signal (Traffic Light) and Pedestrians</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#References"><span class="tocnumber">4</span> <span class="toctext">References</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Building_the_Net">Building the Net</span></h1>
<div class="thumb tright"><div class="thumbinner" style="width:212px;"><a href="../images/EditEdgeAttr.png" class="image"><img alt="" src="../images/EditEdgeAttr.png" width="210" height="235" class="thumbimage" srcset="/w/images/thumb/3/33/EditEdgeAttr.png/315px-EditEdgeAttr.png 1.5x, /w/images/thumb/3/33/EditEdgeAttr.png/420px-EditEdgeAttr.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../images/EditEdgeAttr.png" class="internal" title="Enlarge"></a></div>Editing the location of the edge's startpoint</div></div></div>Open <a href="../NETEDIT.html" title="NETEDIT">NETEDIT</a> and create a new network and add a single edge by pressing <tt>e</tt> for entering the edge creation mode and clicking on two different locations in the editing area. Change to inspection mode (press <tt>i</tt>) and click on the starting point of the edge (at the location of your first click). Now enter <tt>0,0</tt> in the textfield labeled <tt>pos</tt> in the inspector panel on the left (see figure). Do the same for the edge's endpoint, setting its position to <tt>1000,0</tt>. Now save your network under the name <tt>sumolypics.net.xml</tt> (press <tt>Ctrl+Shift-s</tt>).
Now we have a long road, which will be the stage of our competition. The participants in the competition will be transportation modes, i.e., busses, trams, bicycles, passenger cars, and feet. They should travel on different lanes side-by-side. Thus we have to add lanes for each mode. To do so right-click on the edge and hover over "add special lane" in the context menu. This will show you three choices for the creation of special purpose lanes: Sidewalk, Bikelane, and Buslane. Add one lane for each type. <div class="thumb tright"><div class="thumbinner" style="width:212px;"><a href="../images/AddSpecialLane.png" class="image"><img alt="" src="../images/AddSpecialLane.png" width="210" height="251" class="thumbimage" srcset="/w/images/thumb/4/48/AddSpecialLane.png/315px-AddSpecialLane.png 1.5x, /w/images/thumb/4/48/AddSpecialLane.png/420px-AddSpecialLane.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../images/AddSpecialLane.png" class="internal" title="Enlarge"></a></div>Adding special lanes</div></div></div>
To create a tram, we add a new lane by clicking on "Duplicate lane" in the same context menu. For that lane we have to restrict the allowed vehicle class to trams. To do this first uncheck the "select edges"-box just right of the edit mode dropdown menu in the toolbar (the mode should still be set to "(i)Inspect"). Then click on the newly created lane and on the button "allow" in the inspector panel. This opens a dialog with check boxes for all possible vehicle classes. Uncheck all but "rail_urban" and click on "accept". Now edit the allowances for the remaining lane (it is currently allowed for all vehicle classes) and reserve it to the class "passenger" (i.e. passenger cars).<div class="thumb tright"><div class="thumbinner" style="width:212px;"><a href="../images/EditVClassRestrictions.png" class="image"><img alt="" src="../images/EditVClassRestrictions.png" width="210" height="251" class="thumbimage" srcset="/w/images/thumb/d/d0/EditVClassRestrictions.png/315px-EditVClassRestrictions.png 1.5x, /w/images/thumb/d/d0/EditVClassRestrictions.png/420px-EditVClassRestrictions.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../images/EditVClassRestrictions.png" class="internal" title="Enlarge"></a></div>Editing vehicle class restrictions</div></div></div>
<p>Now let us split the edge to create a starting point for the competitors: Right-click somewhere on the edge and select "Split edge here" from the context menu. Then click on the created node (in SUMO terminology this is already a "junction"). And set its x-coordinate to 900 and its y-coordinate to zero in the <tt>pos</tt>-field just as you did above when creating the edge. Effectively, we have created a onehundred-meter running track for the competitors with a 900-meter holding area for each of the competing modes. Now check the check box "select edges" again and rename the two edges to "beg" and "end" (in the inspector panel). Save your network (<tt>Ctrl-s</tt>).
</p>
<h1><span class="mw-headline" id="Defining_Competing_Vehicle_Types">Defining Competing Vehicle Types</span></h1>
<p>As a next step we define the competing vehicle types. Open a new file called <tt>sumolympics.rou.xml</tt> and insert the following vehicle type definitions:
</p>
<pre>&lt;routes&gt;
	&lt;vType id=&quot;pkw&quot; length=&quot;5&quot; maxSpeed=&quot;50&quot; accel=&quot;2.6&quot; decel=&quot;4.5&quot; sigma=&quot;0.2&quot; speedDev=&quot;0.2&quot; vClass=&quot;passenger&quot;/&gt;
	&lt;vType id=&quot;bus&quot; length=&quot;15&quot; maxSpeed=&quot;30&quot; accel=&quot;1.2&quot; decel=&quot;2.5&quot; sigma=&quot;0.1&quot; speedDev=&quot;0.1&quot; vClass=&quot;bus&quot;/&gt;
	&lt;vType id=&quot;tram&quot; length=&quot;40&quot; maxSpeed=&quot;13&quot; accel=&quot;0.8&quot; decel=&quot;0.5&quot; sigma=&quot;0.1&quot; speedDev=&quot;0.1&quot; vClass=&quot;rail_urban&quot;/&gt;
	&lt;vType id=&quot;bike&quot; length=&quot;1.8&quot; width=&quot;0.8&quot; maxSpeed=&quot;7.5&quot; accel=&quot;0.8&quot; decel=&quot;1.5&quot; sigma=&quot;0.5&quot; speedDev=&quot;0.5&quot; vClass=&quot;bicycle&quot;/&gt;
&lt;/routes&gt;
</pre>
<p>Take a look at the <a href="../Definition_of_Vehicles,_Vehicle_Types,_and_Routes.html#Vehicle_Types" title="Definition of Vehicles, Vehicle Types, and Routes">vehicle type attributes description</a> for details on these definitions.
</p><p>For each vehicle type we schedule and position vehicles transporting onehundred persons by adding the following <code>&lt;flow .../&gt;</code> elements just below the vType definitions (within the <code>&lt;routes&gt;</code> element!):
</p>
<pre>        ...
	&lt;flow id=&quot;pkw&quot; type=&quot;pkw&quot; from=&quot;beg&quot; to=&quot;end&quot; begin=&quot;0&quot; end=&quot;0&quot; number=&quot;66&quot; departPos=&quot;last&quot;/&gt;
	&lt;flow id=&quot;bus&quot; type=&quot;bus&quot; from=&quot;beg&quot; to=&quot;end&quot; begin=&quot;0&quot; end=&quot;0&quot; number=&quot;5&quot; departPos=&quot;last&quot;/&gt;
	&lt;flow id=&quot;tram&quot; type=&quot;tram&quot; from=&quot;beg&quot; to=&quot;end&quot; begin=&quot;0&quot; end=&quot;0&quot; number=&quot;2&quot; departPos=&quot;last&quot;/&gt;
	&lt;flow id=&quot;bike&quot; type=&quot;bike&quot; from=&quot;beg&quot; to=&quot;end&quot; begin=&quot;0&quot; end=&quot;0&quot; number=&quot;100&quot; departPos=&quot;last&quot;/&gt;
        ...
</pre>
<p>Note that this assumes that the average vehicle occupation is 1.5.<sup id="cite_ref-1" class="reference"><a href="#cite_note-1">[1]</a></sup> For details on the meaning of the attributes of the flows see the section <a href="../Demand/Shortest_or_Optimal_Path_Routing.html#Flow_Definitions" title="Demand/Shortest or Optimal Path Routing">Flow Definitions</a>.
</p><p><b>Note</b>: 
1) The attribute <tt>departPos="last"</tt> works with SUMO version 0.29. For earlier versions a workaround is needed to let the vehicles start from the end of the lane (see <a rel="nofollow" class="external text" href="http://sumo.dlr.de/trac.wsgi/ticket/2571">ticket2571</a>). It can be achieved by inserting a route definition <tt>&lt;route id="r1" edges="beg end" /&gt;</tt> and seperate vehicle definitions of the desired type at the end of the lane by adding single vehicle elements as, e.g. <tt>&lt;vehicle id="pkw_starter" type = "pkw" depart="0" departPos="-0.01" route="r1"/&gt;</tt>, just before the flow definitions and substracting one from the numbers given in the flows.
2) For versions &lt; 0.29 you will have to create a connection of the pedestrian lanes manually to allow them to be subjected to the tls-control. This is done in the connection mode in NETEDIT (press <tt>c</tt> to activate it). Just click once on the sidewalk of the edge "beg" and then on the sidewalk of edge "end", et voila.
</p><p>To start the simulation, create a SUMO configuration file (name it <tt>sumolympics.sumocfg</tt>):
</p>
<pre>&lt;configuration&gt;
   &lt;input&gt;
       &lt;net-file value=&quot;sumolympics.net.xml&quot;/&gt;
       &lt;route-files value=&quot;sumolympics.rou.xml&quot;/&gt;
   &lt;/input&gt;   
   &lt;processing&gt;
	&lt;lateral-resolution value=&quot;1.&quot; /&gt;
   &lt;/processing&gt;
&lt;/configuration&gt;
</pre>
<div class="thumb tright"><div class="thumbinner" style="width:212px;"><a href="../images/Sumolympic_run1.png" class="image"><img alt="" src="../images/Sumolympic_run1.png" width="210" height="130" class="thumbimage" srcset="/w/images/thumb/7/7b/Sumolympic_run1.png/315px-Sumolympic_run1.png 1.5x, /w/images/thumb/7/7b/Sumolympic_run1.png/420px-Sumolympic_run1.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../images/Sumolympic_run1.png" class="internal" title="Enlarge"></a></div>First test run without pedestrians and start signals</div></div></div>Here we give the processing argument <tt>lateral-resolution</tt> with a value corresponding to the sublane width in meters to achieve a more realistic behaviour of bicyclists utilizing the whole lane width to overtake each other (see <a href="../Simulation/SublaneModel.html" title="Simulation/SublaneModel">Sublane Model</a> and <a href="../Simulation/Bicycles.html" title="Simulation/Bicycles">Bicycle simulation</a>). Start the simulation by double-clicking on the configuration file <tt>sumolympics.sumocfg</tt> (Windows) or running <tt>sumo-gui -c sumolympics.sumocfg</tt> from a terminal. Adjust the step delay to 100 ms. and press the run button (<a href="../images/Play.gif" class="image"><img alt="Play.gif" src="../images//Play.gif" width="12" height="15" /></a>).
<h1><span class="mw-headline" id="Defining_a_Start_Signal_.28Traffic_Light.29_and_Pedestrians">Defining a Start Signal (Traffic Light) and Pedestrians</span></h1>
<p>There are two things left to do for a fair and complete competition:
1) All competitors should be allowed to position freely in front of the scratch line (the bicyclists are inserted in a row, though they could achieve a much better result by grouping more densely using the whole lane width)
2) We wish to include pedestrians into the competition.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:212px;"><a href="../images/Sumolympics_TLSediting.png" class="image"><img alt="" src="../images/Sumolympics_TLSediting.png" width="210" height="251" class="thumbimage" srcset="/w/images/thumb/7/7b/Sumolympics_TLSediting.png/315px-Sumolympics_TLSediting.png 1.5x, /w/images/thumb/7/7b/Sumolympics_TLSediting.png/420px-Sumolympics_TLSediting.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../images/Sumolympics_TLSediting.png" class="internal" title="Enlarge"></a></div>Editing traffic lights</div></div></div>First we create a traffic light on the junction between the edges "beg" and "end" with NETEDIT: Press <tt>t</tt> to enter the traffic light editing mode. Click on the junction, then on "Create TLS" in the left panel. Below, under the label phases, type "rrrrr" for the first phase ("r" for red) and set its duration to 100 (secs.). This will give enough time for the bicyclists to group more densely. For the second phase enter "GGGGG" (yes, "G" for green) and set its duration to 1000 (i.e. until the end of the simulation run). Now run the simulation again to see the bikes outrun the cars. See? We should all use our bikes more often!
<p>If you have noticed a warning (like "Warning: Missing yellow phase in tlLogic 'gneJ2', program '0' for tl-index 0 when switching to phase 0") in the Message Window, don't worry. SUMO routinely checks tls-phases for basic consistency and missing yellow phases may lead to crashes if you have intersecting flows. However, this is a special situation and we don't need to care about this, obviously. If you want to learn more about traffic light control, see the TraCI-Tutorials <a href="../Tutorials/TraCIPedCrossing.html" title="Tutorials/TraCIPedCrossing">TraCIPedCrossing</a> and <a href="../Tutorials/TraCI4Traffic_Lights.html" title="Tutorials/TraCI4Traffic Lights">TraCI4Traffic_Lights</a> or the main section on <a href="../Simulation/Traffic_Lights.html" title="Simulation/Traffic Lights">traffic lights</a>.
</p><p>What do you think, will pedestrians be slower or faster? Let's see. You can already guess that the approach is a little different for pedestrians. This is because they are no vehicle class (not any more), but constitute an own class called "person". For instance, there is no such element as a person flow analogous to vehicle flows, yet (though it is coming, see <a rel="nofollow" class="external text" href="http://sumo.dlr.de/trac.wsgi/ticket/1515">ticket1515</a>). So, we are going to write a python script to generate a routefile <tt>sumolympic_walking.rou.xml</tt>. (Note that there is a little script in the <i><b>&lt;SUMO_HOME&gt;</b></i>/tools folder called <tt>pedestrianFlow.py</tt>, which can be useful if you would like to do more sophisticated things.)
</p><p>Here's the simple script (call the file something like <tt>makeSumolympicWalkers.py</tt>):
</p>
<pre>#!/usr/bin/python
# parameters
outfile = "sumolympicWalks.rou.xml"
startEdge = "beg"
endEdge   = "end"
departTime = 0.
departPos = -30.
numberTrips = 200
# generate xml file
with open(outfile, "w") as f:
    f.write("&lt;routes&gt;\n")
    for i in range(numberTrips):
        f.write('    &lt;person depart="%f" id="p%d"&gt;\n'&#160;% (departTime, i))
        f.write('        &lt;walk departPos="%f" edges="%s&#160;%s"/&gt;\n'&#160;% (departPos, startEdge, endEdge))
        f.write('    &lt;/person&gt;\n')
    f.write("&lt;/routes&gt;\n")
</pre>
<p>Execute the script by double-clicking (or from the command line with <tt>python makeSumolympicWalkers.py</tt>). If you don't have python on your computer install it before doing anything else! (<a rel="nofollow" class="external text" href="https://www.python.org/downloads/%7C">get it from here</a>) We have to include the generated route file <tt>sumolympicWalks.rou.xml</tt> in the config file <tt>sumolympic.sumocfg</tt> to let the simulation know about them. Several route files can be included by merely seperating them by a comma. Therefore modify the <code>&lt;route-files .../&gt;</code>-entry of our config to look like this (be sure to put no spaces between the filenames!):
</p>
<pre>    ...
    &lt;route-files value=&quot;sumolympics.rou.xml,sumolympicWalks.rou.xml&quot;/&gt;
    ...
</pre>
<p>Get the popcorn and start the simulation!
</p>
<h1><span class="mw-headline" id="References">References</span></h1>
<ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><a href="#cite_ref-1">↑</a></span> <span class="reference-text"><a rel="nofollow" class="external free" href="https://www.forschungsinformationssystem.de/servlet/is/79638/">https://www.forschungsinformationssystem.de/servlet/is/79638/</a></span>
</li>
</ol>
<p><br />
Back to <a href="../Tutorials.html" title="Tutorials">Tutorials</a>.
</p>
<!-- 
NewPP limit report
CPU time usage: 0.108 seconds
Real time usage: 0.116 seconds
Preprocessor visited node count: 103/1000000
Preprocessor generated node count: 280/1000000
Post‐expand include size: 337/2097152 bytes
Template argument size: 69/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   19.030      1 - -total
 13.70%    2.608      2 - Template:Ticket
 10.14%    1.930      2 - Template:SUMO
 10.12%    1.926      1 - Template:Note
-->

<!-- Saved in parser cache with key sumoSimWiki:pcache:idhash:786-0!*!0!!en!5!* and timestamp 20170430222430 and revision id 8601
 -->
</div>									</div><hr/><div id="lastmod">This page was last modified on 3 January 2017, at 14:16.</div> </div>

    <div id="footer">
      <div>
        (c) 2011-2013, German Aerospace Center, Institute of
        Transportation Systems
      </div>

      <div>
        Layout based on <a href=
        "http://www.oswd.org/design/preview/id/3365">"Three
        Quarters"</a> by "SimplyGold"
      </div>
    </div>
  </div>
</body>
</html>
